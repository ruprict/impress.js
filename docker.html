<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Containerize This: Intro to Docker</title>

    <meta name="description" content="Docker is a containerization technology that allows processes to be run in isolated execution environments with a shared kernel" />
    <meta name="author" content="Glenn Goodrich" />

    <link href="http://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic" rel="stylesheet" />

    <link href="css/impress-demo.css" rel="stylesheet" />
    <link href="css/docker.css" rel="stylesheet" />

    <link rel="shortcut icon" href="favicon.png" />
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />
</head>

<body class="impress-not-supported">

<div class="fallback-message">
    <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
    <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
</div>

<div id="impress">

    <div id="bored" class="step slide container" data-x="0" data-y="-2500" style="">
      <p>Containerize This</p>
      <p>Using Docker for Development</p>
    </div>
    <div id="containers" class="step slide container emphasis" data-x="-2000" data-y="-1500">
        <p>Docker is a <strong style="font-size: 1.5em;">containerization</strong> technology</p>
        <p class="substeps" >What the hell is that?</p>
    </div>
    <div id="containers1" class="step detail" data-x="-2000" data-y="-1700" data-z="-3000">
      <p>A container is:</p>
      <ul style="padding-left: 1em;">
        <li>A. A form of <b>virtualization</b></li>
        <li>B. An execution environment</li>
        <li class='wrong-answer'>C. A virtual machine </li>
        <li class='wrong-answer'>D. What I put my leftovers in</li>
      </ul>
    </div>
    <div id="containers2" class="step detail" data-x="-2000" data-y="-1000" data-z="-4000">
      <p>How do we isolate a process?</p>
      <ul style="padding-left: 1em;">
        <li class='wrong-answer'>A. Call it names/make fun of its cloths</li>
        <li>B. Carve out CPU</li>
        <li>C. Give it its own network interface </li>
        <li>D. Give it its own file system</li>
        <li>E. Carve out Memory</li>
      </ul>
    </div>
    <div id="kernel" class="step detail" data-x="-2000" data-y="-1500" data-z="-4500" style="text-align:center;">
      <p style="text-align: left">But share</p>
      <img style="width: 50%;" src="./images/docker/Kernel_Layout.png"/>
      <p style="text-align:right">the kernel</p>
      <p class="footnote">Image via Wikipedia <a href="https://en.wikipedia.org/wiki/Kernel_(operating_system)#/media/File:Kernel_Layout.svg">here</a></p>
    </div>

    <div  class="step detail" data-x="-2000" data-y="-2500" data-z="-4500" style="text-align:center;">
      <blockquote>Containers are just like VMs</blockquote>
    </div>

    <div id="diff-from-vms" class="step slide container emphasis" data-x="-1000" data-y="-1500">
      <p>How are containers different from VMs? </p>
    </div>

    <div class="step backslide" style="width:1600px" data-x="-1000" data-y="-1000" data-z="-1500">
      <img style="width:50%;float:right" src="images/docker/vm.png"/>
      <img style="width:50%;float:left" src="images/docker/dockerm.png"/>
    </div>
    <div id="moped" class="step backslide" style="width:1600px" data-x="-1000" data-y="-1000" data-z="-2500" onclick="addMoped(event)">
      <img style="width:300px;float:right" src="images/docker/hummer.jpg"/>
      <img style="width:150px;float:left" src="images/docker/moped.jpg"/>
    </div>
    <!-- Roots -->
    <div class="step install" data-x="4150" data-y="10" data-rotate="-20">
      <p>Docker's roots are old.</p>
    </div>
    <div class="step backslide" data-x="4150" data-y="10" data-rotate="-20" data-z="-1500">
      <blockquote style="float:left;width:40%">HOW OLD ARE THEY?</blockquote>
      <img style="float:right" src="images/docker/oldtools.jpg" />
    </div>
    <div class="step backslide" data-x="4150" data-y="10" data-rotate="-20" data-z="-3000">
      <p>1979: In the beginning, there was chroot</p>
      <img style="width: 100%" src="images/docker/chroot.png"/>
      <img style="width: 100%" src="images/docker/chrooting.jpg"/>
      <p style="font-size:x-small; text-align:center;">Early man chrooting</p>
    </div>
    <div class="step backslide" data-x="4150" data-y="10" data-rotate="-20" data-z="-4500">
      <p style="text-align:center">Controls Groups</p>
      <img style="width: 48%" src="images/docker/littles.jpg"/>
      <img style="width: 48%" src="images/docker/littles.jpg"/>
      <p style="text-align:center;">Namespaces</p>
    </div>
    <div class="step backslide" data-x="4150" data-y="10" data-rotate="-20" data-z="-5750">
      <p>2013: DOCKER</a>
      <img style="width: 100%" src="images/docker/newborn.jpeg"/>
      <p style="font-size: x-small;">2014: Rocket</a>
      <p style="font-size: x-small;">2016: Windows containers</a>
    </div>
    <div id="images" class="step slide container emphasis" data-x="-10000" data-y="-1500" >
      <p>Srsly, why so many kids?</p>
      <p class="step1">How do I "run" a container?</p>
      <p class="step2">Containers are based on "images"</p>
    </div>
    <div class="step slide container emphasis" data-x="-10000" data-y="-1500" data-z="-1000">
      <p>Oh really? What's an image?</p>
      <p class="step1">A filesystem with core libs </p>
    </div>
    <div class="step backslide" data-x="-10000" data-y="-1200" data-z="-1500">
      <p>Read-only layers</p>
      <img src="images/docker/image-layers.jpg"/>
      <p>Each holds a filesystem diff</p>
      <p style="font-size: small">This is the Union File System (UFS)</p>
    </div>

    <div class="step detail" data-x="-1000" data-y="-2000" data-z="-2500">
      <p>So, think of an image as </p>
    </div>
    <div class="step detail" data-x="-400" data-y="-1600" data-z="-2000" data-rotate="90">
      <p>Filesystem</p>
    </div>
    <div class="step detail" data-x="-500" data-y="-1600" data-z="-2000" data-rotate="180">
      <p>and</p>
    </div>
    <div class="step detail" data-x="-1600" data-y="-1600" data-z="-2000" data-rotate="270">
      <p>Parameters</p>
    </div>


    <div id="container_is_an_image" class="step slide container emphasis" data-x="0" data-y="-1500">
      <p>Soooo..a container is an <b>image</p></p>
      <p>With a thin read/write layer on top.</p>
    </div>
    <div class="step backslide" data-x="0" data-y="-1500" data-z="-5000" >
      <img src="images/docker/container-layers.jpg"/>
    </div>
    <div class="step" data-x="1500" data-y="-1500" data-z="-6000">
        <p>This means...</p>
    </div>
    <div class="step backslide" data-x="1500" data-y="-800" data-z="-7000">
      <p>Containers can share an image</p>
      <img src="images/docker/sharing-layers.jpg"/>
      <p style="font-size:xx-small">Let's talk about components...</p>
    </div>

    <div id="components" class="step slide container" data-x="-3000" data-y="-500">
      <h2>Components of Docker</h2>
      <p class="component">Docker Engine</p>
      <p class="compdef">A lightweight runtime that runs containers</p>
    </div>
    <div class="step" data-x="-3000" data-y="-500" data-z="-1500">
      <img src="images/docker/dockerm.png"/>
    </div>

    <div class="step slide container" data-x="-2000" data-y="-500">
      <h2>Components of Docker</h2>
      <p class="component">Docker CLI</p>
      <p class="compdef">The command line for Docker</p>
    </div>
    <div class="step slide" data-x="-2000" data-y="-500" data-z="-1500">
      <pre style="padding: 0.5em;color: #FFF; background: #000; font-size:0.5em;font-family: Courier;"><code>Usage:  docker COMMAND
A self-sufficient runtime for containers
Options:
      --config string      Location of client config files (default "/Users/ggoodrich/.docker")
  -D, --debug              Enable debug mode
      --help               Print usage
  -H, --host list          Daemon socket(s) to connect to (default [])
  -l, --log-level string   Set the logging level ("debug", "info", "warn", "error", "fatal") (default "info")
      --tls                Use TLS; implied by --tlsverify
      --tlscacert string   Trust certs signed only by this CA (default "/Users/ggoodrich/.docker/ca.pem")
      --tlscert string     Path to TLS certificate file (default "/Users/ggoodrich/.docker/cert.pem")
      --tlskey string      Path to TLS key file (default "/Users/ggoodrich/.docker/key.pem")
      --tlsverify          Use TLS and verify the remote
  -v, --version            Print version information and quit

Management Commands:
  checkpoint  Manage checkpoints
  container   Manage containers
  image       Manage images
  network     Manage networks
  node        Manage Swarm nodes
  plugin      Manage plugins
  secret      Manage Docker secrets
  service     Manage services
  ...</code></pre>
    </div>


    <div id="registry" class="step slide container" data-x="-1000" data-y="-500">
      <h2>Components of Docker</h2>
      <p class="component">Registry</p>
      <p class="compdef">Store and distribute images</p>
    </div>
    <div class="step backslide" data-x="-1000" data-y="-500" data-z="-1500">
      <img src="images/docker/hub.png"/>
    </div>
    <div class="step backslide" data-x="-1000" data-y="-500" data-z="-3000">
      <a target="_blank" href="https://store.docker.com"><img src="images/docker/store.png"/></a>
    </div>
    <div id="volume" class="step slide container" data-x="0" data-y="-500">
      <h2>Components of Docker</h2>
      <p class="component">Docker Volumes</p>
      <p class="compdef">Data that lives OUTSIDE the UFS on the HOST</p>
    </div>
    <div class="step backslide" data-x="0" data-y="-500" data-z="-1500" >
      <img src="images/docker/ufs.png" />
      <p style="font-size: x-small">Image credit <a href="https://www.gitbook.com/book/washraf/the-docker-ecosystem/details">The Docker Ecosystem</a></p>
    </div>
    <div class="step backslide" data-x="0" data-y="-500" data-z="-3000" >
      <img src="images/docker/ufs_vol.png" />
      <p style="font-size: x-small">Image credit <a href="https://www.gitbook.com/book/washraf/the-docker-ecosystem/details">The Docker Ecosystem</a></p>
    </div>

    <div id="swarm" class="step slide container" data-x="1000" data-y="-500">
      <h2>Components of Docker</h2>
      <p class="component">Docker Swarm</p>
      <p class="compdef">Cluster Docker Engines</p>
    </div>
    <div class="step backslide" data-x="1000" data-y="-500" data-z="-1500">
      <img src="images/docker/swarm.png" style="background:#fff; padding:0.3em;"/>
    </div>
    <div class="step backslide" data-x="1000" data-y="-500" data-z="-3000">
      <img style="width:100%" src="images/docker/routing-mesh.png" style="background:#fff; padding:0.3em;"/>
    </div>
    <div class="step backslide" data-x="1000" data-y="-500" data-z="-4500">
      <img style="width:100%" src="images/docker/swarm-providers.jpeg" style="background:#fff; padding:0.3em;"/>
    </div>

    <div id="installation" class="step install" data-x="-4000" data-y="250">
      <p>Installation is simple</p>
    </div>
    <div class="step install" data-x="-2500" data-y="250">
      <p>Docker for Mac is a .dmg</p>
      <ul>
          <li>No Virtual Box/VM software</li>
          <li>Uses the xhyve Hypervisor</li>
      </ul>
    </div>
    <div class="step install" data-x="-1000" data-y="250">
      <img style="width:100%" src="images/docker/xhyve.png"/>
      <img src="images/docker/dockermac.png"/>
    </div>
    <div class="step install" data-x="500" data-y="250">
      <p>Docker for Windows is a .exe</p>
      <ul>
          <li>No Virtual Box/VM software</li>
          <li>Uses Windows Hyper-V package</li>
      </ul>
    </div>
    <div class="step install" data-x="2000" data-y="250">
      <img src="images/docker/dockerwin.png"/>
    </div>
    <div class="step install" data-x="3400" data-y="-350" data-rotate="250">
      <p>Docker for *nix Distros</p>
      <ul>
          <li>Uses a package manager</li>
          <li>chgroup and namespaces</li>
      </ul>
    </div>



    <!-- Structure -->
    <div id="great" class="step" data-x="-3500" data-y="2550" data-rotate="-25">
      <p>That's Great.</p>
    </div>
    <div class="step" data-x="-3250" data-y="2300" data-rotate="-45">
      <p> But HOW DO I USE IT?</p>
    </div>

    <!-- Examples -->
    <div id="examples" class="step install" data-x="-4500" data-y="1000" data-rotate="90">
      <p>The Command Line</p>
    </div>
    <div class="step install" data-x="-4500" data-y="1000" data-rotate="90" data-z="-1000">
      <p><a target="_blank" href="https://store.docker.com/images/3083290a-203f-4c04-b2de-cc057959d2c9?tab=descriptio://store.docker.com/images/3083290a-203f-4c04-b2de-cc057959d2c9?tab=description">MySQL</a></p>
    </div>
    <div class="step install" data-x="-4500" data-y="2000" data-rotate="90">
      <p>Dockerfile</p>
    </div>
    <div class="step install" style="padding:0.2em" data-x="-4500" data-y="2000" data-rotate-x="90" data-scale="1">
      <pre style="text-align: left;padding: 0.1em;color: #FFF; background: #000; font-size:0.35em;font-family: Courier;" >
      <code>
        FROM alpine:3.4
        MAINTAINER Glenn Goodrich <glenn.goodrich@skookum.com>

        ENV BUILD_PACKAGES curl-dev ruby-dev build-base libxml2-dev
          libxslt-dev libgcrypt libffi-dev git ncurses tzdata
          openssl-dev postgresql-dev
        ENV RUBY_PACKAGES ruby ruby-irb ruby-json ruby-rake
          ruby-io-console ruby-bundler ruby-bigdecimal nodejs

        # Update the package manager
        RUN apk update && \
            apk upgrade && \
            apk add bash $BUILD_PACKAGES && \
            apk add bash $RUBY_PACKAGES && \
            rm -rf /var/cache/apk/*

        EXPOSE 3000

        RUN mkdir /app

        WORKDIR /tmp
        COPY Gemfile Gemfile
        ADD Gemfile.lock Gemfile.lock
        RUN gem install bundler --no-rdoc --no-ri
        RUN gem install rake --no-rdoc --no-ri
        RUN bundle install --jobs 3 --retry 5

        ADD . /app
        WORKDIR /app

        CMD ["bin/rails", "server", "-b", "0.0.0.0"]
      </code></pre>
    </div>
    <div class="step install" style="padding:0.2em" data-x="-4500" data-y="2000" data-rotate-x="90" data-scale="1">
      <pre style="text-align: left;padding: 0.1em;color: #FFF; background: #000; font-size:0.35em;font-family: Courier;" >
      <code>
        docker build -t ruprict/comfy-cms-test:demo .
      </code>
      <code>
        docker push ruprict/comfy-cms-test:demo
      </code>
      </pre>
    </div>


    <div id="compose" class="step install" data-x="-4000" data-y="2900" data-rotate="40">
      <p>Docker Compose</p>
    </div>

    <div class="step install" data-x="-4000" data-y="2900" data-rotate="40" data-rotate-x="90" data-scale="1">
      <pre style="text-align: left;padding: 0.1em;color: #FFF; background: #000; font-size:0.40em;font-family: Courier;" >
      <code>
version: "2"
services:
  api:
    build:
      context: .
    volumes:
      - .:/app
    ports:
      - "3000:3000"
    links:
      - db
    environment:
      - DATABASE_URL=postgres://postgres:postgres@db:5432/
        comfy_mexican_sofa_development
  db:
    image: postgres
    ports:
      - "5432:5432"
    environment:
      - POSTGRES_PASSWORD=postgres
      - POSTGRES_USER=postgres
    volumes:
      - ./data:/var/lib/postgresql/data

      </code></pre>
    </div>
    <div id="swarm-example" class="step install" data-x="-3000" data-y="3500" data-rotate="30">
      <p>Docker Swarm</p>
    </div>
    <div class="step install" data-x="-3000" data-y="3500" data-rotate="30" data-rotate-x="90">
      <a target="_blank" href="https://docs.docker.com/docker-for-aws/">
        <img src="images/docker/swarm.png" style="background:#fff; padding:0.3em;"/>
      </a>
    </div>
    <div class="step install" data-x="-50000" data-y="3500" data-rotate="30" data-rotate-x="90">
      <pre style="text-align: left;padding: 0.1em;color: #FFF; background: #000; font-size:0.40em;font-family: Courier;" >
      <code>docker service create  —env DATABASE_URL=<RDSURL>
        -env <AWS Stuff> ruprict/comfy-cms-test:v1.2.0
      </code></pre>
      <pre style="text-align: left;padding: 0.1em;color: #FFF; background: #000; font-size:0.40em;font-family: Courier;" >
      <code>docker service update  —env DATABASE_URL=<RDSURL>
        -env <AWS Stuff> ruprict/comfy-cms-test:v1.3.0
      </code></pre>
      <pre style="text-align: left;padding: 0.1em;color: #FFF; background: #000; font-size:0.40em;font-family: Courier;" >
      <code>docker service create --name hello-world
              --publish 8080:80 tutum/hello-world
      </code></pre>
    </div>

    <div class="step install" data-x="-2000" data-y="3800" data-rotate="5">
      <p>Development</p>
      <p>Never install anything locally</p>
      <p>Ever again</p>
    </div>

    <div class="step install" data-x="-200" data-y="3800" data-rotate="-5">
      <p>Production</p>
      <p>Baked in scalability</p>
      <p>No more "It works on my box"</p>
    </div>

    <div class="step install" data-x="1800" data-y="3400" data-rotate="-25">
      <p>It's not all whales and rainbows</p>
    </div>
    <div class="step install" data-x="3000" data-y="2400" data-rotate="-55">
      <p>Logging/Monitoring</p>
      <p>Disk space</p>
    </div>


    <div id="questions" class="step" data-x="3500" data-y="1200" data-rotate="-85">
      <p>Questions?</p>
    </div>

    <div class="step" data-x="-2500" data-y="2000" data-rotate="-0">
      <p style="position:relative;bottom: -2em">Thanks!</p>
      <img src="images/docker/cloud.png"/>
    </div>
    <!--

        So to summarize of all the possible attributes used to position presentation steps, we have:

        * `data-x`, `data-y`, `data-z` - they define the position of **the center** of step element on
            the canvas in pixels; their default value is 0;
        * `data-rotate-x`, `data-rotate-y`, 'data-rotate-z`, `data-rotate` - they define the rotation of
            the element around given axis in degrees; their default value is 0; `data-rotate` and `data-rotate-z`
            are exactly the same;
        * `data-scale` - defines the scale of step element; default value is 1

        These values are used by impress.js in CSS transformation functions, so for more information consult
        CSS transfrom docs: https://developer.mozilla.org/en/CSS/transform

    -->
    <div id="overview" class="step" data-x="0" data-y="0" data-scale="10">
    </div>

</div>

<!--

    Last, but not least.

    To make all described above really work, you need to include impress.js in the page.
    I strongly encourage to minify it first.

    In here I just include full source of the script to make it more readable.

    You also need to call a `impress().init()` function to initialize impress.js presentation.
    And you should do it in the end of your document. Not only because it's a good practice, but also
    because it should be done when the whole document is ready.
    Of course you can wrap it in any kind of "DOM ready" event, but I was too lazy to do so ;)

-->
<script src="js/impress.js"></script>
<script>
impress().init();

var moped = document.getElementById( "moped" );
var addMoped= function(event) {
  var self = event.target;
  var img = document.createElement("img");
  img.src= "images/docker/moped.jpg";
  img.style.width="150px";
  self.appendChild(img);
};
var images = document.getElementById( "images" );
var stepNo = 0;
var addImageStep = function(event) {
  var self = event.target;
  stepNo +=1;

  self.className += ` step-${stepNo}`;
};
images.addEventListener("click", addImageStep);

</script>

</body>
</html>
